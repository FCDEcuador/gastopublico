var FormIndicatorValidation=function(){var e=function(){var e=$("#indicatorForm"),r=$(".alert-danger",e),o=$(".alert-success",e);e.validate({errorElement:"div",errorClass:"help-block text-danger",focusInvalid:!0,ignore:"",rules:{title:{required:!0},summary:{required:!0},type:{required:!0},indicator:{required:!0},unity:{required:!0},value:{required:!0}},messages:{title:{required:"Ingrese el título del indicador"},summary:{required:"Ingrese la descripción del indicador"},type:{required:"Seleccione el tipo"},indicator:{required:"Seleccione el indicador"},unity:{required:"Seleccione la Unidad"},value:{required:"Ingrese el valor del indicador"}},invalidHandler:function(e,t){o.hide(),r.show()},errorPlacement:function(e,r){r.is(":checkbox")?e.insertAfter(r.closest(".md-checkbox-list, .md-checkbox-inline, .checkbox-list, .checkbox-inline")):r.is(":radio")?e.insertAfter(r.closest(".md-radio-list, .md-radio-inline, .radio-list,.radio-inline")):e.insertAfter(r)},highlight:function(e){$(e).closest(".form-group").addClass("has-danger"),$(e).closest(".form-control").addClass("form-control-danger")},unhighlight:function(e){$(e).closest(".form-group").removeClass("has-danger"),$(e).closest(".form-control").removeClass("form-control-danger")},success:function(e){e.closest(".form-group").removeClass("has-danger"),e.closest(".form-control").removeClass("form-control-danger")},submitHandler:function(e){o.show(),r.hide();var t=Ladda.create(document.querySelector("#indicatorBtn"));t.start(),t.setProgress(-1),$.ajax({type:$(e).attr("method"),url:$(e).attr("action"),data:$(e).serialize(),dataType:"json",beforeSend:function(){t.start()},success:function(e){!0===e.status?renderSection(urlIndicatorsList):swal({title:"BlaudCMS :: Indicadores",text:e.message,type:"error",allowOutsideClick:!0,showConfirmButton:!0,showCancelButton:!1,confirmButtonClass:"text-danger",cancelButtonClass:"",closeOnConfirm:!0,closeOnCancel:!0,confirmButtonText:"OK",cancelButtonText:""}),t.stop()},error:function(e){var r="",o="",e=e.responseJSON;$.each(e.errors,function(e,r){o+="\n"+r}),r=""!=o?"Ups! no se pudo actualizar la informacion debido a los siguientes errores: "+o:"Ups! parece que de momento el sistema no está disponible, por favor intentalo nuevamente en unos minutos.",swal({title:"BlaudCMS :: Indicadores",text:r,type:"error",allowOutsideClick:!0,showConfirmButton:!0,showCancelButton:!1,confirmButtonClass:"text-danger",cancelButtonClass:"",closeOnConfirm:!0,closeOnCancel:!0,confirmButtonText:"OK",cancelButtonText:""}),t.stop()}})}})};return{init:function(){e()}}}();$(document).ready(function(){FormIndicatorValidation.init()});
